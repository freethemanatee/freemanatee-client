 package me.zopac.freemanatee.module.modules.exploits;

 import java.awt.*;

 import me.zopac.freemanatee.module.Module;

 import net.minecraft.entity.Entity;
 import net.minecraftforge.fml.common.ObfuscationReflectionHelper;
 import net.minecraft.item.ItemStack;
 import net.minecraft.inventory.ClickType;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.entity.passive.*;
 import net.minecraft.util.NonNullList;
 import net.minecraft.inventory.ContainerHorseChest;
 import net.minecraft.inventory.InventoryBasic;


 @Module.Info(name="Donkey Drop", category=Module.Category.EXPLOITS)
 public class DonkeyDrop extends Module {

     public Robot r;

     @Override
     protected void onEnable() {
         throwItems();
     }

     public void throwItems() {
        final Entity ridingEntity = mc.player.getRidingEntity();
         if (ridingEntity != null && ridingEntity instanceof AbstractHorse) {
             final AbstractHorse horse = (AbstractHorse)ridingEntity;
             final ContainerHorseChest horseChest = (ContainerHorseChest)ObfuscationReflectionHelper.getPrivateValue((Class)AbstractHorse.class, (Object)horse, new String[] { "horseChest", "field_110296_bG" });
             final NonNullList<ItemStack> horseItems = (NonNullList<ItemStack>)ObfuscationReflectionHelper.getPrivateValue((Class)InventoryBasic.class, (Object)horseChest, new String[] { "inventoryContents", "field_70482_c"});
             System.out.println(horseItems.toString());
             for (int i = 0; i < mc.player.inventory.getSizeInventory(); ++i) {
                 System.out.println("Dropping item in slot: " + i);
                 mc.playerController.windowClick(mc.player.openContainer.windowId, i, 0, ClickType.THROW, (EntityPlayer)mc.player);
             }
             this.disable();
         }
     }
 }